<header></header>

<div class="container-fluid">
    <div class="btn-container">
        <button type="button" class="btn btn-default create-project-btn" ng-click="newProjectBtn()">
            <span class="glyphicon glyphicon-plus"></span> New project
        </button>
    </div>

    <div class="row">
        <div class="col-sm-4 project" ng-repeat="project in projects">
            <h3><a class="project-name" ng-click="openProject(project)">{{project.name}}</a></h3>
            <p><h4>Git repository :</h4> <a href="#">{{project.git}}</a></p>
            <p> <h4>Description :</h4>
                {{project.description}}
            </p>
            <p>
                <div class="action-btn">
                    <a class="glyphicon glyphicon-eye-open see-btn" ng-click="showProjectForm(project)"></a>
                    <a class="glyphicon glyphicon-pencil edit-btn" ng-click="showProjectForm(project)"></a>
                    <a class="glyphicon glyphicon-trash delete-btn" ng-click="deleteProject(project)"></a>
                </div>
            </p>
        </div>
    </div>
</div>

<div ng-if="projectCreationForm.show" id="create-project-form" ng-click="closeForm($event)">
    <form name="createProjectForm" ng-submit="create()" novalidate>
        <div class="content">
            <div class="line" ng-class="{'has-error': !createProjectForm.name.$pristine && createProjectForm.name.$invalid, 
                                            'has-success': !createProjectForm.name.$pristine && createProjectForm.name.$valid}" >
                <label>Project name</label> <br />
                <input name="name" class="name" type="text" placeholder="Enter project name" ng-model="project.name" 
                                ng-pattern="projectCreationForm.nameFormat" required>
            </div>
            
            <div class="line" ng-class="{'has-error': !createProjectForm.git.$pristine && createProjectForm.git.$invalid, 
                    'has-success': !createProjectForm.git.$pristine && createProject.git.$valid}">
                 <label>Git repository</label> <br />
                 <input name="git" class="git" type="text" placeholder="Enter Git repository" ng-model="project.git" required>
            </div>
                
            <div class="line">
                <label>Description</label> <br />
                <textarea name="description" class="description" type="text" placeholder="Enter project description" 
                            ng-model="project.description" required></textarea>
            </div>
            
            <div class="line">
                <label>Owner role</label> <br />
                <select class="form-control" ng-model="project.ownerRole">
                    <option value="developer" selected>Developer</option>
                    <option value="product_owner">Product Owner</option>
                </select>
            </div>
            
            <div class="line">
                <button class="btn btn-primary submit-btn" ng-disabled="createProjectFrom.name.$invalid || createProjectForm.git.$invalid">Create</button>
                <button class="btn btn-primary cancel-btn" ng-click="clickCancelBtn()">Cancel</button>
            </div>
        </div>
    </form>
</div> 


    <div ng-if="showUpdateForm" id="update-project-form" ng-click="closeForm($event)">
            <form name="updateProjectForm" novalidate>
                <div class="content">
                    <div class="line" ng-class="{'has-error': !updateProjectForm.name.$pristine && updateProjectForm.name.$invalid, 
                                                'has-success': !updateProjectForm.name.$pristine && updateProjectForm.name.$valid}" >
                        <label>Project name</label> <br />
                        <input name="name" class="name" type="text" placeholder="Enter project name" ng-model="projectUpdate.name" 
                                    ng-pattern="projectCreationForm.nameFormat" required>
                    </div>
                    
                    <div class="line" ng-class="{'has-error': !updateProjectForm.git.$pristine && updateProjectForm.git.$invalid, 
                        'has-success': !updateProjectForm.git.$pristine && updateProjectForm.git.$valid}">
                        <label>Git repository</label> <br />
                        <input name="git" class="git" type="text" placeholder="Enter Git repository" ng-model="projectUpdate.git" required>
                    </div>
                    
                    <div class="line">
                        <label>Description</label> <br />
                        <textarea name="description" class="description" type="text" placeholder="Enter project description" 
                                ng-model="projectUpdate.description" required></textarea>
                    </div>
                    
                    <div class="line">
                        <button class="btn btn-primary submit-btn" ng-click="update()" 
                                ng-disabled="updateProjectForm.name.$invalid || updateProjectForm.git.$invalid">Save</button>
                        <button class="btn btn-primary cancel-btn" ng-click="clickCancelBtn()">Cancel</button>
                    </div>
                </div>
            </form>
        </div> 
    
</div>
